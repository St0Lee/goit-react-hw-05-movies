{"version":3,"file":"static/js/362.e9650321.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieSearch/MovieSearchList/movie-search-list.module.css?4321","webpack://react-homework-template/./src/components/MovieSearch/MovieSearchList/Searchbar/searchbar.module.css?a7b3","components/MovieSearch/MovieSearchList/Searchbar/Searchbar.jsx","components/MovieSearch/MovieSearchList/MovieSearchList.jsx","Pages/MovieSearchPage/MovieSearchPage.jsx","api/movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movie-search-list_list__LzRJu\",\"poster\":\"movie-search-list_poster__dFlUT\",\"link\":\"movie-search-list_link__8710Z\",\"title\":\"movie-search-list_title__1CLLs\",\"overview\":\"movie-search-list_overview__uvYwN\"};","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"searchbar_searchForm__5yPVV\",\"form\":\"searchbar_form__J4NZo\",\"searchElements\":\"searchbar_searchElements__6CuYD\",\"button\":\"searchbar_button__0Bwzm\",\"buttonLabel\":\"searchbar_buttonLabel__H5JeV\"};","import { useState, useCallback } from \"react\";\n\nimport styles from \"./searchbar.module.css\"\n\nconst Searchbar = ({onSubmit}) => {\n    const [state, setState] = useState(\"\")\n    const [submitValue, setSubmitValue] = useState(\"\")\n\n    const handleChange = useCallback( ({target}) => {\n        const {value} = target;\n        setState (value)\n    }, [])\n\n   const handleSubmit = (e) => {\n  e.preventDefault();\n  if (state === submitValue) {\n    return alert(`Can't enter identical request.`);\n  }\n  setSubmitValue(state);\n  onSubmit(state);\n  console.log( setSubmitValue(state))\n};\n\n    return (\n        <header className={styles.searchForm}>\n            <form onSubmit={handleSubmit} className={styles.form}>\n                <button type=\"submit\" className={styles.button}>\n                    <span className={styles.buttonLabel}>Find</span>\n                </button>\n                <input \n                value={state} \n                onChange={handleChange} \n                required type=\"text\" \n                autoComplete=\"off\" \n                name=\"search\" \n                autoFocus\n                placeholder=\"Enter your request\"\n                className={styles.searchElements}\n                />\n            </form>\n        </header>\n    )\n}\n\nexport default Searchbar;\n\n","import { useState, useEffect } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\n\nimport styles from \"./movie-search-list.module.css\"\n\nimport { getMovieBySearch } from \"../../../api/movies\";\n\nimport Searchbar from './Searchbar/Searchbar';\nimport Loader from 'components/Loader/Loader';\n\nimport moviePlaceholder from \"../../../images/movie-poster-placeholder.png\"\n\n\nconst MovieSearchList = () => {\n  const [movie, setMovie] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { data: { results } } = await getMovieBySearch(search);\n        setMovie(results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (search) {\n      fetchMovies();\n    }\n  }, [search]);\n\n const handleSearch = (searchValue) => {\n  setSearchParams({ search: searchValue });\n  setMovie([]);\n};\n\n\n  const elements = movie.map(({ id, title, poster_path }) => (\n    <li key={id} className={styles.wrapper}>\n      <Link\n        to={`/movies/${id}`}\n        state={{ from: location }}\n        className={styles.link}\n      >\n        <img\n        src={poster_path ? `https://image.tmdb.org/t/p/w500/${poster_path}` : moviePlaceholder}\n        alt={title}\n        className={styles.poster}\n      />\n        <p className={styles.title}>{title}</p>\n      </Link>\n    </li>\n  ));\n\n  return (\n    <div>\n      <Searchbar onSubmit={handleSearch} />\n      {error && <p className={styles.error}>{error}</p>}\n      {loading && <Loader />}\n      {elements.length > 0 && <ul className={styles.list}>{elements}</ul>}\n    </div>\n  );\n};\n\nexport default MovieSearchList;\n\n","import MovieSearchList from \"components/MovieSearch/MovieSearchList/MovieSearchList\";\n\nconst MovieSearchPage = () => {\n    return (\n        <div>\n            <MovieSearchList />\n        </div>\n    )\n}\n\nexport default MovieSearchPage;","import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: \"https://api.themoviedb.org/3/\",\n    params: {\n        api_key: \"9d62fa0a2d83c73b042e215c1a6cc958\",\n      }\n})\n\nexport const getTrendingMovies = () => {\n    return instance.get(\"trending/movie/week\")\n};\n\nexport const getMovieById = id => {\n    return instance.get(`movie/${id}`)\n}\n\nexport const getMovieBySearch = search => {\n    return instance.get(`search/movie`, {\n      params: {\n        query: search,\n        page: 1\n      },\n    });\n  };\n\nexport const getMovieCast = id => {\n    return instance.get(`movie/${id}/credits`);\n  };\n  \nexport const getMovieReviews = id => {\n    return instance.get(`movie/${id}/reviews`);\n  };"],"names":["_ref","onSubmit","_useState","useState","_useState2","_slicedToArray","state","setState","_useState3","_useState4","submitValue","setSubmitValue","handleChange","useCallback","_ref2","value","target","_jsx","className","styles","children","_jsxs","e","preventDefault","alert","console","log","type","onChange","required","autoComplete","name","autoFocus","placeholder","movie","setMovie","loading","setLoading","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","search","get","location","useLocation","useEffect","fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getMovieBySear","results","_context","prev","next","getMovieBySearch","sent","data","t0","message","finish","stop","apply","arguments","elements","map","id","title","poster_path","Link","to","concat","from","src","alt","Searchbar","searchValue","Loader","length","MovieSearchList","instance","axios","baseURL","params","api_key","getTrendingMovies","getMovieById","query","page","getMovieCast","getMovieReviews"],"sourceRoot":""}